<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Honda Thân Thiện – Phụ tùng & Dịch vụ sửa xe</title>
  <meta name="description" content="Phụ tùng chính hãng và dịch vụ sửa chữa uy tín. Đặt lịch online, báo giá minh bạch." />
  <meta name="theme-color" content="#0a68ff" />

  <style>
    /* ==== Chủ đề xanh dương – trắng ==== */
    :root{
      --brand:#0a68ff;     /* xanh chủ đạo */
      --brand-600:#074fcb; /* xanh đậm hover */
      --ink:#0f172a;       /* chữ chính */
      --muted:#475569;     /* chữ phụ */
      --bg:#ffffff;        /* nền */
      --card:#ffffffcc;    /* glass */
      --ring:rgba(10,104,255,.28);
      --stroke:#e2e8f0;
      --radius:18px;
      --shadow:0 10px 30px rgba(2,8,23,.08);
    }
    @media (prefers-color-scheme: dark){
      :root{ --ink:#e5e7eb; --muted:#94a3b8; --bg:#0b0f19; --card:#0b0f19e6; --stroke:#1f2937; --shadow:0 10px 30px rgba(0,0,0,.35) }
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font:16px/1.6 system-ui, -apple-system, Segoe UI, Inter, Roboto, Arial, sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 600px at 80% -10%, rgba(10,104,255,.10), transparent 60%),
        radial-gradient(1200px 700px at -10% 120%, rgba(10,104,255,.06), transparent 60%),
        var(--bg);
      letter-spacing:.2px;
    }
    a{color:inherit; text-decoration:none}
    img{max-width:100%; display:block}

    .container{max-width:1100px; margin-inline:auto; padding:0 20px}
    .grid{display:grid; gap:20px}
    .grid.cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}
    .grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}
    @media (max-width:900px){ .grid.cols-3{grid-template-columns:1fr 1fr} }
    @media (max-width:640px){ .grid.cols-2,.grid.cols-3{grid-template-columns:1fr} }

    .card{background:var(--card); border:1px solid var(--stroke); border-radius:var(--radius); box-shadow:var(--shadow)}

    .btn{
      display:inline-flex; align-items:center; gap:.6rem;
      padding:.9rem 1.15rem; border-radius:999px; border:1px solid transparent;
      background:var(--brand); color:#fff; font-weight:700; box-shadow:var(--shadow);
      transition:.2s transform ease,.2s background ease;
    }
    .btn:hover{background:var(--brand-600); transform:translateY(-1px)}
    .btn.ghost{background:#fff; color:var(--brand); border-color:var(--brand)}
    .tag{display:inline-block; padding:.35rem .7rem; border:1px solid var(--stroke); border-radius:999px; font-size:.875rem; color:var(--muted); background:#fff0; backdrop-filter:saturate(140%) blur(6px)}

    /* ==== Header / Nav ==== */
    header{
      position:sticky; top:0; z-index:50; backdrop-filter:saturate(180%) blur(12px);
      background:linear-gradient(#ffffffcc,#ffffff99); border-bottom:1px solid var(--stroke)
    }
    @media (prefers-color-scheme: dark){
      header{background:linear-gradient(#0b0f19cc,#0b0f1999)}
    }
    .nav{display:flex; align-items:center; justify-content:space-between; padding:.75rem 0}
    .brand{display:flex; align-items:center; gap:.75rem; font-weight:900}
    .logo{
      width:38px; height:38px; border-radius:12px; display:grid; place-items:center; color:#fff;
      background:conic-gradient(from 210deg at 50% 50%, var(--brand), var(--brand-600));
      box-shadow:var(--shadow)
    }
    .menu{display:flex; gap:1rem; align-items:center}
    .menu a{padding:.6rem .8rem; border-radius:10px; color:var(--muted)}
    .menu a:hover{background:rgba(10,104,255,.10); color:var(--ink)}
    .hamburger{display:none}
    @media (max-width:900px){
      .menu{display:none}
      .hamburger{display:inline-flex; padding:.6rem .8rem; border:1px solid var(--stroke); border-radius:12px; background:transparent}
      .drawer{position:fixed; inset:64px 0 auto 0; background:var(--bg); border-top:1px solid var(--stroke); padding:1rem; display:none}
      .drawer a{display:block; padding:.9rem 1rem; border-radius:12px}
      .drawer a:hover{background:rgba(10,104,255,.08)}
      .drawer.open{display:block}
    }

    /* ==== Hero ==== */
    .hero{padding:72px 0 34px}
    .hero .wrap{display:grid; grid-template-columns:1.2fr .8fr; align-items:center; gap:24px}
    @media (max-width:900px){ .hero .wrap{grid-template-columns:1fr} }
    .headline{font-size:clamp(28px,4.2vw,48px); line-height:1.12; margin:0 0 10px; font-weight:900}
    .subhead{color:var(--muted); font-size:1.05rem; margin:0 0 20px}
    .cta{display:flex; gap:12px; flex-wrap:wrap}
    .hero-card{aspect-ratio:16/11; border-radius:22px; position:relative; overflow:hidden}
    .hero-card .bg{
      position:absolute; inset:0;
      background:
        radial-gradient(800px 400px at 70% 10%, rgba(10,104,255,.35), transparent 50%),
        linear-gradient(160deg, #0e1a3a 0%, #113b8f 100%);
    }

    /* ==== Sections ==== */
    section{padding:42px 0}
    .section-title{font-size:1.8rem; margin:0 0 6px}
    .section-sub{color:var(--muted); margin:0 0 18px}

    /* ==== Products ==== */
    .product{display:flex; flex-direction:column; overflow:hidden}
    .product .media{
      aspect-ratio:4/3; border-bottom:1px solid var(--stroke);
      background:
        linear-gradient(180deg, rgba(255,255,255,.15), rgba(255,255,255,0)),
        radial-gradient(200px 120px at 30% 20%, rgba(10,104,255,.25), transparent 60%),
        linear-gradient(120deg, #f4f7ff, #edf2ff);
    }
    .product h3{font-size:1.05rem; margin:12px 12px 0}
    .product p{color:var(--muted); margin:6px 12px 0 12px; font-size:.95rem}
    .product .meta{display:flex; align-items:center; justify-content:space-between; padding:12px}
    .price{font-weight:800}
    .buy{padding:.5rem .8rem; border-radius:999px; border:1px solid var(--stroke)}
    .buy:hover{border-color:var(--brand); color:var(--brand)}

    /* ==== Services ==== */
    .service{display:flex; gap:14px; padding:16px; align-items:flex-start}
    .icon{
      width:42px; height:42px; border-radius:12px; display:grid; place-items:center;
      background:rgba(10,104,255,.12); color:var(--brand); flex:0 0 auto; border:1px solid var(--stroke)
    }

    /* ==== Pricing ==== */
    .pricing .row{display:grid; grid-template-columns:1fr auto; gap:10px; padding:12px 14px; border-bottom:1px dashed var(--stroke)}
    .pricing .row:last-child{border-bottom:none}
    .chip{display:inline-block; padding:.25rem .6rem; border-radius:999px; background:rgba(10,104,255,.12); color:var(--brand); font-weight:700; font-size:.8rem}

    /* ==== Booking & Forms ==== */
    form{display:grid; gap:12px; grid-template-columns:repeat(2,1fr)}
    form .full{grid-column:1/-1}
    input,select,textarea{
      width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--stroke);
      background:#fff0; color:var(--ink); outline:none;
    }
    input:focus,select:focus,textarea:focus{box-shadow:0 0 0 4px var(--ring)}
    textarea{min-height:110px; resize:vertical}
    .notice{font-size:.92rem; color:var(--muted)}
    .toast{
      position:fixed; right:18px; bottom:18px; background:#0e1a3a; color:#fff;
      padding:.85rem 1rem; border-radius:14px; box-shadow:var(--shadow);
      opacity:0; transform:translateY(8px); transition:.25s ease; z-index:60
    }
    .toast.show{opacity:1; transform:translateY(0)}
    .req{color:var(--brand); margin-left:.15rem}

    /* ==== Parts Table ==== */
    table{width:100%; border-collapse:collapse}
    th,td{padding:10px; border-bottom:1px solid var(--stroke); vertical-align:top}
    th{background:#f7faff; position:sticky; top:0; text-align:left}
    .right{text-align:right}

    /* ==== Animations ==== */
    @keyframes floatIn{from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:translateY(0)}}
    [data-animate]{animation:floatIn .6s both; animation-delay:var(--delay,0s)}
  </style>
</head>
<body>
  <!-- ===== Header ===== -->
  <header>
    <div class="container nav">
      <a href="#" class="brand" aria-label="Trang chủ Honda Thân Thiện">
        <span class="logo" aria-hidden="true">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M3 16c6-2 12-2 18 0M5 8c4-2 10-2 14 0" stroke="white" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </span>
        <span>Honda Thân Thiện</span>
        <span class="tag">Chính hãng • Tận tâm</span>
      </a>

      <nav class="menu" aria-label="Thanh điều hướng">
        <a href="#parts">Phụ tùng</a>
        <a href="#services">Dịch vụ</a>
        <a href="#pricing">Bảng giá</a>
        <a href="#booking">Đặt lịch</a>
        <a href="#contact">Liên hệ</a>
      </nav>

      <button class="hamburger" aria-label="Mở menu" id="btnMenu">☰</button>
    </div>
    <div class="drawer" id="drawer">
      <a href="#parts">Phụ tùng</a>
      <a href="#services">Dịch vụ</a>
      <a href="#pricing">Bảng giá</a>
      <a href="#booking">Đặt lịch</a>
      <a href="#contact">Liên hệ</a>
    </div>
  </header>

  <main id="main">
    <!-- ===== Hero ===== -->
    <section class="hero">
      <div class="container wrap">
        <div>
          <h1 class="headline" data-animate style="--delay:.05s">Phụ tùng <span style="color:var(--brand)">chính hãng</span> & dịch vụ sửa xe <span style="white-space:nowrap">uy tín</span></h1>
          <p class="subhead" data-animate style="--delay:.15s">
            Bảo dưỡng nhanh, báo giá minh bạch, bảo hành rõ ràng. Đặt lịch online – nhận xe đúng hẹn.
          </p>
          <div class="cta" data-animate style="--delay:.25s">
            <a class="btn" href="#booking">Đặt lịch ngay</a>
            <a class="btn ghost" href="tel:+84912345678">Gọi: 0912 345 678</a>
          </div>
          <div class="cta" style="margin-top:14px">
            <span class="tag">KTV 5+ năm kinh nghiệm</span>
            <span class="tag">Phụ tùng bảo hành 12 tháng</span>
            <span class="tag">Thanh toán QR/VNPay</span>
          </div>
        </div>

        <div class="hero-card card" aria-hidden="true">
          <div class="bg"></div>
        </div>
      </div>
    </section>

    <!-- ===== Featured Parts ===== -->
    <section id="parts">
      <div class="container">
        <h2 class="section-title">Phụ tùng nổi bật</h2>
        <p class="section-sub">100% chính hãng – đổi trả trong 7 ngày nếu lỗi nhà sản xuất.</p>

        <div class="grid cols-3">
          <article class="product card" data-animate>
            <div class="media" role="img" aria-label="Má phanh trước"></div>
            <h3>Má phanh trước</h3>
            <p>Độ bám ổn định, ít mài mòn đĩa.</p>
            <div class="meta">
              <span class="price">380.000₫</span>
              <a class="buy" href="#booking">Thêm vào giỏ</a>
            </div>
          </article>

          <article class="product card" data-animate style="--delay:.05s">
            <div class="media" role="img" aria-label="Lọc gió động cơ"></div>
            <h3>Lọc gió động cơ</h3>
            <p>Tiết kiệm nhiên liệu – khuyến nghị thay mỗi 8.000km.</p>
            <div class="meta">
              <span class="price">220.000₫</span>
              <a class="buy" href="#booking">Thêm vào giỏ</a>
            </div>
          </article>

          <article class="product card" data-animate style="--delay:.1s">
            <div class="media" role="img" aria-label="Dầu nhớt 10W-30"></div>
            <h3>Dầu nhớt 10W-30</h3>
            <p>Bảo vệ động cơ, vận hành êm ái trong đô thị.</p>
            <div class="meta">
              <span class="price">145.000₫</span>
              <a class="buy" href="#booking">Thêm vào giỏ</a>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- ===== Services ===== -->
    <section id="services">
      <div class="container">
        <h2 class="section-title">Dịch vụ sửa chữa</h2>
        <p class="section-sub">Quy trình 5 bước – kiểm tra, báo giá, sửa chữa, kiểm định, bàn giao.</p>

        <div class="grid cols-2">
          <div class="card service" data-animate>
            <div class="icon">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M21 3l-7 7 2 2 7-7A6 6 0 0114 9l1 1-9 9-3-3 9-9 1 1A6 6 0 0021 3z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
            <div>
              <h4>Sửa chữa tổng quát</h4>
              <p>Chẩn đoán máy, điện, phanh, treo – thay thế linh kiện chuẩn NSX.</p>
            </div>
          </div>

          <div class="card service" data-animate style="--delay:.05s">
            <div class="icon">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><path d="M12 2l4 4v12a4 4 0 11-8 0V6l4-4z" stroke="currentColor" stroke-width="1.6"/><path d="M9 10h6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
            </div>
            <div>
              <h4>Bảo dưỡng định kỳ</h4>
              <p>Thay dầu, lọc gió, bugi, căn chỉnh phanh – giữ xe bền bỉ.</p>
            </div>
          </div>

          <div class="card service" data-animate style="--delay:.1s">
            <div class="icon">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><rect x="2" y="7" width="18" height="10" rx="2" stroke="currentColor" stroke-width="1.6"/><path d="M22 10v4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/><path d="M7 10v4M15 10v4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg>
            </div>
            <div>
              <h4>Điện – Ắc quy</h4>
              <p>Test sạc, thay ắc quy, xử lý đề yếu, đèn mờ, lỗi FI.</p>
            </div>
          </div>

          <div class="card service" data-animate style="--delay:.15s">
            <div class="icon">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="1.6"/><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.6"/><path d="M12 4v3M12 17v3M4 12h3M17 12h3M6.5 6.5l2 2M15.5 15.5l2 2M6.5 17.5l2-2M15.5 8.5l2-2" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg>
            </div>
            <div>
              <h4>Lốp – Phanh</h4>
              <p>Thay lốp, cân bằng động, thay má phanh, vệ sinh đĩa.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== Price List (dịch vụ) ===== -->
    <section id="pricing">
      <div class="container">
        <h2 class="section-title">Bảng giá tham khảo</h2>
        <p class="section-sub">Giá đã bao gồm công lắp đặt cơ bản. <span class="chip">Minh bạch</span></p>
        <div class="card">
          <div class="pricing">
            <div class="row"><div>Thay dầu nhớt định kỳ (10W-30)</div><strong>145.000₫</strong></div>
            <div class="row"><div>Vệ sinh & cân chỉnh phanh</div><strong>120.000₫</strong></div>
            <div class="row"><div>Thay lọc gió động cơ</div><strong>220.000₫</strong></div>
            <div class="row"><div>Kiểm tra điện – sạc – ắc quy</div><strong>80.000₫</strong></div>
            <div class="row"><div>Thay má phanh (công)</div><strong>90.000₫</strong></div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== Parts Table (lọc/tìm kiếm + CSV) ===== -->
    <section id="parts-table">
      <div class="container">
        <h2 class="section-title">Bảng giá phụ tùng (mẫu)</h2>
        <p class="section-sub">Nhập thêm được dễ dàng — bấm <em>Tải CSV</em> để xuất dữ liệu hiện tại.</p>

        <div class="grid cols-2">
          <div class="card" style="padding:16px">
            <div style="display:flex; gap:10px; align-items:center; margin:6px 0 12px">
              <input id="q" placeholder="Tìm theo tên hoặc mã..." style="flex:1; padding:10px 12px; border:1px solid var(--stroke); border-radius:10px" />
              <select id="sort" style="padding:10px 12px; border:1px solid var(--stroke); border-radius:10px">
                <option value="name">Sắp xếp: Tên</option>
                <option value="price">Sắp xếp: Giá</option>
                <option value="code">Sắp xếp: Mã</option>
              </select>
              <button id="btnCsv" class="btn" type="button">Tải CSV</button>
            </div>

            <div style="max-height:420px; overflow:auto; border:1px solid var(--stroke); border-radius:12px">
              <table id="tbl">
                <thead>
                  <tr>
                    <th style="min-width:120px">Mã chi tiết</th>
                    <th style="min-width:280px">Tên tiếng Việt</th>
                    <th class="right" style="min-width:110px">Giá (₫)</th>
                    <th>Ghi chú</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>

          <aside class="card" style="padding:16px">
            <h3>Hình ảnh minh họa</h3>
            <!-- Bạn có thể thay src bằng URL ảnh thực tế của từng dòng -->
            <div style="aspect-ratio:4/3; border-radius:14px; overflow:hidden; border:1px solid var(--stroke);
                        background:linear-gradient(180deg,rgba(255,255,255,.3),transparent),
                                   radial-gradient(220px 140px at 30% 20%, rgba(10,104,255,.28), transparent 60%),
                                   linear-gradient(120deg,#f3f7ff,#e9f0ff);">
            </div>
            <p class="section-sub" style="margin:12px 0 0">Có thể gắn ảnh theo từng phụ tùng khi bạn cung cấp link/ảnh tương ứng.</p>
          </aside>
        </div>
      </div>
    </section>

    <!-- ===== Booking ===== -->
    <section id="booking">
      <div class="container">
        <h2 class="section-title">Đặt lịch sửa xe</h2>
        <p class="section-sub">Chọn thời gian bạn tiện – chúng tôi sẽ xác nhận trong vòng 15 phút làm việc.</p>

        <div class="card" style="padding:18px">
          <form id="formBooking" novalidate>
            <div>
              <label for="name">Họ & tên <span class="req">*</span></label>
              <input id="name" name="name" placeholder="VD: Nguyễn Văn A" required />
            </div>

            <div>
              <label for="phone">Số điện thoại <span class="req">*</span></label>
              <input id="phone" name="phone" inputmode="tel" placeholder="0912 345 678" required />
            </div>

            <div>
              <label for="vehicle">Loại xe</label>
              <select id="vehicle" name="vehicle">
                <option>Xe máy</option>
                <option>Ô tô</option>
              </select>
            </div>

            <div>
              <label for="service">Dịch vụ mong muốn</label>
              <select id="service" name="service">
                <option>Bảo dưỡng định kỳ</option>
                <option>Thay dầu</option>
                <option>Điện – Ắc quy</option>
                <option>Lốp – Phanh</option>
                <option>Khác</option>
              </select>
            </div>

            <div>
              <label for="date">Ngày</label>
              <input type="date" id="date" name="date" />
            </div>

            <div>
              <label for="time">Giờ</label>
              <input type="time" id="time" name="time" />
            </div>

            <div class="full">
              <label for="note">Ghi chú</label>
              <textarea id="note" name="note" placeholder="Mô tả tình trạng xe, tiếng kêu, đèn báo..."></textarea>
            </div>

            <div class="full" style="display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap">
              <span class="notice">Bằng việc gửi thông tin, bạn đồng ý với <a href="#!" style="color:var(--brand)">Điều khoản dịch vụ</a>.</span>
              <button class="btn" type="submit">Gửi yêu cầu</button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- ===== Contact ===== -->
    <section id="contact">
      <div class="container">
        <h2 class="section-title">Liên hệ</h2>
        <p class="section-sub">Chúng tôi luôn sẵn sàng hỗ trợ bạn.</p>

        <div class="grid cols-2">
          <div class="card" style="padding:16px">
            <div style="display:grid; gap:12px">
              <div style="display:flex; gap:12px; align-items:center"><div class="icon">📍</div><div>Honda Thân Thiện, Xã Eatul, Huyện CưMgar, Tỉnh Đắk Lắk</div></div>
              <div style="display:flex; gap:12px; align-items:center"><div class="icon">📞</div><div><a href="tel:+84989417437">0989417437</a> (Zalo/WhatsApp)</div></div>
              <div style="display:flex; gap:12px; align-items:center"><div class="icon">⏰</div><div>Thứ 2–CN: 06:00–17:00</div></div>
              <div style="display:flex; gap:12px; align-items:center"><div class="icon">✉️</div><div><a href="mailto:duyenduyen0817@gmail.com">duyenduyen0817@gmail.com</a></div></div>
            </div>
            <div style="margin-top:14px; display:flex; gap:10px; flex-wrap:wrap">
              <a class="btn" href="tel:+84912345678">Gọi ngay</a>
              <a class="btn ghost" href="#booking">Đặt lịch online</a>
            </div>
          </div>

          <div class="card" style="overflow:hidden">
            <iframe title="Bản đồ cửa hàng" width="100%" height="300" style="border:0"
              loading="lazy" allowfullscreen referrerpolicy="no-referrer-when-downgrade"
              src="https://www.google.com/maps?q=Ho+Chi+Minh+City&output=embed"></iframe>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer style="padding:28px 0; border-top:1px solid var(--stroke); color:var(--muted); text-align:center">
    © <span id="year"></span> Honda Thân Thiện • Made with ❤️
  </footer>

  <div class="toast" id="toast" role="status" aria-live="polite">Đã gửi yêu cầu! Chúng tôi sẽ liên hệ xác nhận sớm.</div>

  <script>
    // Năm hiện tại
    document.getElementById('year').textContent = new Date().getFullYear();

    // Menu di động
    const btnMenu = document.getElementById('btnMenu');
    const drawer = document.getElementById('drawer');
    btnMenu?.addEventListener('click', () => {
      drawer.classList.toggle('open');
      btnMenu.setAttribute('aria-expanded', drawer.classList.contains('open'));
    });

    // Cuộn mượt
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', e=>{
        const id = a.getAttribute('href').slice(1);
        const el = document.getElementById(id);
        if(el){ e.preventDefault(); el.scrollIntoView({behavior:'smooth', block:'start'}); }
      });
    });

    // Form đặt lịch (demo)
    const form = document.getElementById('formBooking');
    const toast = document.getElementById('toast');
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name = form.name.value.trim();
      const phone = form.phone.value.trim();
      if(!name || !phone){ alert('Vui lòng nhập Họ & tên và Số điện thoại.'); return; }
      toast.classList.add('show');
      setTimeout(()=>toast.classList.remove('show'), 2600);
      form.reset();
    });

    // ====== Dữ liệu phụ tùng (mẫu) + Tìm kiếm/CSV ======
    const parts = [
      ["53206KVG950","Ốp, sau tay lái *NH1*",58300,""],
      ["53207KVG820","Trang trí, ốp trước tay lái",294800,""],
      ["53210KVG900","Ốp, nắp trước tay lái *Y209M* #có tem#",504300,""],
      ["64310KVG900","Chắn bùn, trước *Y209*",475200,""],
      ["64310KVG960","Chắn bùn, trước *Y209* #có tem#",476300,""],
      ["64330KVG900","Ốp, mặt nạ *Y209* #có tem#",545100,""],
      ["64430KVG90ZA","Ốp, yếm phải *Y209* #có tem#",276600,"Ốp dưới ổ khóa"],
      ["80105KVG90ZA","Chắn bùn, sau",66000,""],
      ["OIL10W30","Dầu nhớt 10W-30",145000,"Tham khảo trực tiếp"],
      ["AIRFILTER","Lọc gió động cơ",220000,"Khuyến nghị 8.000km"],
      ["BRAKEPADF","Má phanh trước",380000,"Chính hãng"]
    ].map(p => ({code:p[0], name:p[1], price:p[2], note:p[3]}));

    const tbody = document.querySelector("#tbl tbody");
    const q = document.getElementById("q");
    const sortSel = document.getElementById("sort");

    function fmt(n){ return n.toLocaleString('vi-VN'); }
    function render(rows){
      tbody.innerHTML = rows.map(r => `
        <tr>
          <td><code>${r.code}</code></td>
          <td>${r.name}</td>
          <td class="right"><strong>${fmt(r.price)}</strong></td>
          <td style="color:var(--muted)">${r.note||""}</td>
        </tr>
      `).join('');
    }
    function apply(){
      const term = (q?.value||"").trim().toLowerCase();
      let rows = parts.filter(r => r.name.toLowerCase().includes(term) || r.code.toLowerCase().includes(term));
      const s = sortSel?.value || "name";
      rows.sort((a,b)=> s==='price'? (a.price-b.price) : String(a[s]).localeCompare(String(b[s]), 'vi'));
      render(rows);
    }
    q?.addEventListener('input', apply);
    sortSel?.addEventListener('change', apply);
    apply();

    document.getElementById('btnCsv')?.addEventListener('click', () => {
      const header = ['Ma chi tiet','Ten tieng Viet','Gia','Ghi chu'];
      const rows = [header].concat(parts.map(r => [r.code, r.name, r.price, r.note]));
      const csv = rows.map(r => r.map(v => `"${String(v).replaceAll('"','""')}"`).join(',')).join('\n');
      const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
      const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'bang-gia-phu-tung.csv'; a.click();
    });
  </script>
</body>
</html>
